$(function(){var b=PHORK.registry,c=PHORK.overlay,a=PHORK.utils={};var e={degrade:false,overlay:function(j,i){if(typeof j=="object"){j=j.join(". ")}if(!c||this.degrade){if(i){if(confirm(j)){if(i.confirmed&&typeof i.confirmed.action=="function"){i.confirmed.action()
}}else{if(i.cancelled&&typeof i.cancelled.action=="function"){i.cancelled.action()}}}else{alert(j)}}else{new c.core().init(null,{source:"message",message:j,modal:true,type:"notify",disposable:true,toolbar:true,buttons:i}).show()
}},insert:function(j,k){var l=$(window),i=$("#alert");l.trigger("resizing");if(!i.size()){$("#content").before(i=$('<ul id="alert"></ul>').hide())}i.show().append($('<li><span class="text"></span><span class="close"></span></li>').hide()).find(".text").last().append(j).parent().show("blind",300,function(){l.trigger("resized")
});if(k){l.trigger("goto",[0])}}};PHORK.utils.notify=e;var f={authorize:function(i){return i+"?sid="+g.get("PHPSESSID")},error:function(l,i,j){try{if(l.responseText){if(data=$.parseJSON(l.responseText)){errors=data.errors
}}}catch(k){errors=[j]}return typeof errors?errors:["There was an error"]}};a.api=f;var g={get:function(i){var j=document.cookie.match("(^|;) ?"+i+"=([^;]*)(;|$)");
return j?unescape(j[2]):null},set:function(k,l,m){var i="";if(m){var j=new Date();j.setTime(j.getTime()+(m*86400*1000));i="; expires="+j.toGMTString()}document.cookie=k+"="+l+i+"; path="+b.constants.cookiePath
},"delete":function(i){this.set(i,"",-1)}};a.cookies=g;var h=function(m,o,n){var j,l=$(m).attr("class").split(" ");for(var k in l){j=l[k].split("-");if(j[0]==o&&j.length==n){return j
}}};a.classargs=h;var d=function(i,k){var j=h(i,"range",3);if(j){min=j[1];max=j[2]}i.bind("keyup",function(){var l=$(this).val().length;k.html(l?l:"");
if(l<min||l>max){k.addClass("error")}else{k.removeClass("error")}}).trigger("keyup")};a.counted=d});