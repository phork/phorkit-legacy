$(function(){PHORK.nav=function(a){this.$parent=a;this.hovered={};this.offset={};this.init=function(){var c=this.$parent.find("a").first();c.after($trigger=$("<a>").attr("class","subnav").show());
c.width(c.width()+20);this.$parent.data("trigger",$trigger);$("body").append($items=$("<ul></ul>").data("parent",this.$parent).attr("class","subnav").hide());
this.$parent.data("items",$items);var b=this;this.$parent.data("items").hover(function(d){b.hover(d,"items",true)},function(d){b.hover(d,"items",false)
});this.$parent.hover(function(d){b.hover(d,"parent",true)},function(d){b.hover(d,"parent",false)});this.$parent.data("trigger").click(function(d){if(b.$parent.data("items").is(":visible")){b.hide(d,true)
}else{b.show(d)}});this.$parent.data("items").hover(function(d){b.show(d)});$(window).bind("scroll",function(){b.position()})};this.append=function(b){if(!this.$parent.data("trigger")){this.init()
}var c=this.$parent.data("items");$(b).each(function(d,e){if(typeof e=="object"){c.append($appended=$("<li></li>").append($("<a>").append(e.title).attr({href:e.href})));
if(e.spacer){$appended.addClass("spacer")}if(e.id){$appended.attr("id",e.id)}}});return this};this.hover=function(f,d,b){if(!(this.hovered[d]=b)){var c=this;
setTimeout(function(){c.hide()},100)}};this.show=function(b){this.$parent.addClass("hover").data("items").css({position:"absolute",left:this.$parent.offset().left+this.offset.left,top:this.$parent.offset().top+this.$parent.height()+this.offset.top}).stop(true,true).slideDown("fast").show()
};this.hide=function(d,c){if(!c){for(var b in this.hovered){if(this.hovered[b]){return}}}this.$parent.data("items").slideUp("slow",function(){$(this).data("parent").removeClass("hover")
})};this.position=function(){if(this.$parent.data("items").is(":visible")){this.$parent.data("items").css({position:"absolute",left:this.$parent.offset().left+this.offset.left,top:this.$parent.offset().top+this.$parent.height()+this.offset.top})
}}}});